<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë“œë¡  ë¹„í–‰ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .location-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .location-input {
            padding: 10px 15px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            min-width: 200px;
        }

        .location-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .location-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 60px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-icon {
            font-size: 2.5rem;
            margin-right: 15px;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.1));
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #333;
        }

        .card-subtitle {
            font-size: 0.9rem;
            color: #666;
            margin-top: 2px;
        }

        .card-content {
            margin-top: 20px;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-weight: 500;
            color: #555;
            font-size: 1rem;
        }

        .metric-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
        }

        .status {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-good {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            box-shadow: 0 2px 10px rgba(76, 175, 80, 0.3);
        }

        .status-caution {
            background: linear-gradient(45deg, #FF9800, #f57c00);
            color: white;
            box-shadow: 0 2px 10px rgba(255, 152, 0, 0.3);
        }

        .status-danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
            box-shadow: 0 2px 10px rgba(244, 67, 54, 0.3);
        }

        .flight-status {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 35px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
        }

        .flight-status::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .flight-status h2 {
            margin-bottom: 20px;
            color: #333;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .flight-indicator {
            font-size: 4rem;
            margin: 25px 0;
            filter: drop-shadow(3px 3px 6px rgba(0,0,0,0.1));
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .flight-recommendation {
            font-size: 1.2rem;
            margin: 20px 0;
            line-height: 1.6;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .info-footer {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
        }

        .last-updated {
            font-size: 0.95rem;
            margin-bottom: 10px;
        }

        .data-sources {
            font-size: 0.85rem;
            opacity: 0.8;
            line-height: 1.4;
        }

        .error-message {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            color: #d32f2f;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            text-align: center;
        }

        .warning-box {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            color: #f57c00;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .card, .flight-status {
                padding: 25px;
            }

            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš ë“œë¡  ë¹„í–‰ ì‹¤ì‹œê°„ ì •ë³´ ëŒ€ì‹œë³´ë“œ</h1>
            <p>ê¸°ìƒì²­Â·ì—ì–´ì½”ë¦¬ì•„Â·ìš°ì£¼ì „íŒŒì„¼í„° ì‹¤ì‹œê°„ ë°ì´í„° ê¸°ë°˜</p>
            
            <div class="location-selector">
                <input type="text" class="location-input" id="location-input" placeholder="ì§€ì—­ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì„œìš¸, ë¶€ì‚°)" value="ì„œìš¸">
                <button class="location-btn" onclick="getCurrentLocation()">ğŸ“ í˜„ì¬ ìœ„ì¹˜</button>
                <button class="location-btn" onclick="updateLocation()">ğŸ” ì§€ì—­ ë³€ê²½</button>
            </div>
        </div>

        <div class="warning-box">
            âš ï¸ <strong>API ì¸ì¦í‚¤ í•„ìš”:</strong> ì‹¤ì œ ë°ì´í„° ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ” ê° ê¸°ê´€ì˜ API ì¸ì¦í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. 
            í˜„ì¬ëŠ” ë°ëª¨ ëª¨ë“œë¡œ ì‘ë™ ì¤‘ì´ë©°, ì‹¤ì œ ì‚¬ìš© ì‹œ ê¸°ìƒì²­, ì—ì–´ì½”ë¦¬ì•„, ìš°ì£¼ì „íŒŒì„¼í„°ì˜ API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.
        </div>

        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">ğŸŒ¤ï¸</div>
                    <div>
                        <div class="card-title">ì‹¤ì‹œê°„ ê¸°ìƒì •ë³´</div>
                        <div class="card-subtitle">ê¸°ìƒì²­ ë™ë„¤ì˜ˆë³´ API</div>
                    </div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span class="metric-label">í˜„ì¬ ì˜¨ë„</span>
                        <span class="metric-value" id="temperature">--Â°C</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ìƒëŒ€ìŠµë„</span>
                        <span class="metric-value" id="humidity">--%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ê°•ìˆ˜í™•ë¥ </span>
                        <span class="metric-value" id="precipitation">--%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">í•˜ëŠ˜ìƒíƒœ</span>
                        <span class="metric-value" id="sky-condition">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ë¹„í–‰ ì í•©ì„±</span>
                        <span class="status" id="weather-status">í™•ì¸ ì¤‘</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">ğŸ’¨</div>
                    <div>
                        <div class="card-title">í’ì†Â·í’í–¥ ì •ë³´</div>
                        <div class="card-subtitle">ê¸°ìƒì²­ ì‹¤ì‹œê°„ ê´€ì¸¡ë°ì´í„°</div>
                    </div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span class="metric-label">í˜„ì¬ í’ì†</span>
                        <span class="metric-value" id="wind-speed">-- m/s</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">í’í–¥</span>
                        <span class="metric-value" id="wind-direction">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ìµœëŒ€ ìˆœê°„í’ì†</span>
                        <span class="metric-value" id="wind-gust">-- m/s</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ê¸°ì••</span>
                        <span class="metric-value" id="pressure">-- hPa</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">í’ì† ì•ˆì „ë„</span>
                        <span class="status" id="wind-status">í™•ì¸ ì¤‘</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">ğŸŒ«ï¸</div>
                    <div>
                        <div class="card-title">ëŒ€ê¸°ì§ˆ ì •ë³´</div>
                        <div class="card-subtitle">ì—ì–´ì½”ë¦¬ì•„ ì‹¤ì‹œê°„ ì¸¡ì •ë°ì´í„°</div>
                    </div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span class="metric-label">ì´ˆë¯¸ì„¸ë¨¼ì§€ (PM2.5)</span>
                        <span class="metric-value" id="pm25">-- Î¼g/mÂ³</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ë¯¸ì„¸ë¨¼ì§€ (PM10)</span>
                        <span class="metric-value" id="pm10">-- Î¼g/mÂ³</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ì˜¤ì¡´ (Oâ‚ƒ)</span>
                        <span class="metric-value" id="ozone">-- ppm</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">í†µí•©ëŒ€ê¸°í™˜ê²½ì§€ìˆ˜</span>
                        <span class="metric-value" id="air-index">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ì‹œì • ì í•©ì„±</span>
                        <span class="status" id="air-quality-status">í™•ì¸ ì¤‘</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">ğŸ§­</div>
                    <div>
                        <div class="card-title">ì§€ìê¸°Â·GPS ì •ë³´</div>
                        <div class="card-subtitle">ìš°ì£¼ì „íŒŒì„¼í„° ì‹¤ì‹œê°„ ë°ì´í„°</div>
                    </div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span class="metric-label">Kp ì§€ìˆ˜</span>
                        <span class="metric-value" id="kp-index">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ì§€ìê¸° í™œë™ë„</span>
                        <span class="metric-value" id="magnetic-activity">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ì „ë¦¬ì¸µ ìƒíƒœ</span>
                        <span class="metric-value" id="ionosphere-status">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">GPS ì‹ í˜¸ í’ˆì§ˆ</span>
                        <span class="metric-value" id="gps-quality">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">ë‚˜ì¹¨ë°˜ ì •í™•ë„</span>
                        <span class="status" id="compass-status">í™•ì¸ ì¤‘</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="flight-status">
            <h2>ğŸš ë“œë¡  ë¹„í–‰ ì¢…í•© ì•ˆì „ íŒì •</h2>
            <div class="flight-indicator" id="flight-indicator">ğŸ”„</div>
            <div class="flight-recommendation" id="flight-recommendation">ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            
            <div class="controls">
                <button class="btn" onclick="refreshAllData()">
                    <span id="refresh-text">ğŸ“¡ ì „ì²´ ë°ì´í„° ìƒˆë¡œê³ ì¹¨</span>
                </button>
                <button class="btn" onclick="showDetailedAnalysis()">
                    ğŸ“Š ìƒì„¸ ë¶„ì„ ë³´ê¸°
                </button>
                <button class="btn" onclick="setAutoRefresh()">
                    ğŸ”„ ìë™ ìƒˆë¡œê³ ì¹¨ ì„¤ì •
                </button>
            </div>
        </div>

        <div class="info-footer">
            <div class="last-updated" id="last-updated">
                ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: --
            </div>
            <div class="data-sources">
                ë°ì´í„° ì¶œì²˜: ê¸°ìƒì²­ ë™ë„¤ì˜ˆë³´API Â· ì—ì–´ì½”ë¦¬ì•„ ëŒ€ê¸°ì˜¤ì—¼ì •ë³´API Â· ìš°ì£¼ì „íŒŒì„¼í„° ìš°ì£¼í™˜ê²½API<br>
                ë“œë¡  ë¹„í–‰ ì•ˆì „ê¸°ì¤€: êµ­í† êµí†µë¶€ ë¬´ì¸ë¹„í–‰ì¥ì¹˜ ìš´ìš©ì§€ì¹¨ ì¤€ìˆ˜
            </div>
        </div>
    </div>

    <script>
        // API ì„¤ì • (ì‹¤ì œ ì‚¬ìš©ì‹œ í™˜ê²½ë³€ìˆ˜ë‚˜ ë³„ë„ ì„¤ì •íŒŒì¼ì—ì„œ ê´€ë¦¬)
        const API_CONFIG = {
            KMA_API_KEY: 'YOUR_KMA_API_KEY', // ê¸°ìƒì²­ API í‚¤
            AIRKOREA_API_KEY: 'YOUR_AIRKOREA_API_KEY', // ì—ì–´ì½”ë¦¬ì•„ API í‚¤
            SPACEWEATHER_API_KEY: 'YOUR_SPACEWEATHER_API_KEY', // ìš°ì£¼ì „íŒŒì„¼í„° API í‚¤
            // ê¸°ë³¸ ìœ„ì¹˜ (ìš¸ì‚° ì™¸í™©ê°•)
            DEFAULT_LAT: 35.483661,
            DEFAULT_LON: 129.327805
        };

        let currentLocation = {
            name: 'ìš¸ì‚°ê´‘ì—­ì‹œ',
            lat: API_CONFIG.DEFAULT_LAT,
            lon: API_CONFIG.DEFAULT_LON
        };

        let autoRefreshInterval = null;

        // ê¸°ìƒì²­ API - ë™ë„¤ì˜ˆë³´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        async function fetchWeatherData() {
            try {
                // ì¢Œí‘œë¥¼ ê²©ìì¢Œí‘œë¡œ ë³€í™˜ (ê¸°ìƒì²­ API ìš”êµ¬ì‚¬í•­)
                const gridXY = convertToGrid(currentLocation.lat, currentLocation.lon);
                
                // í˜„ì¬ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ API í˜¸ì¶œ ì‹œê°„ ì„¤ì •
                const now = new Date();
                const baseDate = now.toISOString().slice(0, 10).replace(/-/g, '');
                const baseTime = Math.floor(now.getHours() / 3) * 3;
                const baseTimeStr = baseTime.toString().padStart(2, '0') + '00';

                const url = `http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getUltraSrtNcst?serviceKey=${API_CONFIG.KMA_API_KEY}&numOfRows=10&pageNo=1&dataType=JSON&base_date=${baseDate}&base_time=${baseTimeStr}&nx=${gridXY.x}&ny=${gridXY.y}`;
                
                // CORS ë¬¸ì œë¡œ ì¸í•´ ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” í”„ë¡ì‹œ ì„œë²„ë‚˜ ë°±ì—”ë“œ APIë¥¼ í†µí•´ í˜¸ì¶œ
                // í˜„ì¬ëŠ” ëª¨ì˜ ë°ì´í„° ë°˜í™˜
                return generateWeatherData();
                
            } catch (error) {
                console.error('ê¸°ìƒ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨:', error);
                return generateWeatherData(); // ëª¨ì˜ ë°ì´í„°ë¡œ ëŒ€ì²´
            }
        }

        // ì—ì–´ì½”ë¦¬ì•„ API - ëŒ€ê¸°ì§ˆ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        async function fetchAirQualityData() {
            try {
                const stationName = getAirQualityStation(currentLocation.name);
                const url = `http://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getMsrstnAcctoRltmMesureDnsty?serviceKey=${API_CONFIG.AIRKOREA_API_KEY}&returnType=json&numOfRows=1&pageNo=1&stationName=${encodeURIComponent(stationName)}&dataTerm=DAILY&ver=1.0`;
                
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë°±ì—”ë“œë¥¼ í†µí•´ API í˜¸ì¶œ
                return generateAirQualityData();
                
            } catch (error) {
                console.error('ëŒ€ê¸°ì§ˆ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨:', error);
                return generateAirQualityData();
            }
        }

        // ìš°ì£¼ì „íŒŒì„¼í„° API - ìš°ì£¼í™˜ê²½ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        async function fetchSpaceWeatherData() {
            try {
                const url = `https://www.spaceweather.go.kr/api/getData?apiKey=${API_CONFIG.SPACEWEATHER_API_KEY}&type=realtime`;
                
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë°±ì—”ë“œë¥¼ í†µí•´ API í˜¸ì¶œ
                return generateMagneticData();
                
            } catch (error) {
                console.error('ìš°ì£¼í™˜ê²½ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨:', error);
                return generateMagneticData();
            }
        }

        // ì¢Œí‘œë¥¼ ê¸°ìƒì²­ ê²©ìì¢Œí‘œë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
        function convertToGrid(lat, lon) {
            // ê¸°ìƒì²­ ê²©ì ë³€í™˜ ì•Œê³ ë¦¬ì¦˜ (ê°„ì†Œí™”ëœ ë²„ì „)
            const RE = 6371.00877;
            const GRID = 5.0;
            const SLAT1 = 30.0;
            const SLAT2 = 60.0;
            const OLON = 126.0;
            const OLAT = 38.0;
            const XO = 43;
            const YO = 136;

            const DEGRAD = Math.PI / 180.0;
            const re = RE / GRID;
            const slat1 = SLAT1 * DEGRAD;
            const slat2 = SLAT2 * DEGRAD;
            const olon = OLON * DEGRAD;
            const olat = OLAT * DEGRAD;

            let sn = Math.tan(Math.PI * 0.25 + slat2 * 0.5) / Math.tan(Math.PI * 0.25 + slat1 * 0.5);
            sn = Math.log(Math.cos(slat1) / Math.cos(slat2)) / Math.log(sn);
            let sf = Math.tan(Math.PI * 0.25 + slat1 * 0.5);
            sf = Math.pow(sf, sn) * Math.cos(slat1) / sn;
            let ro = Math.tan(Math.PI * 0.25 + olat * 0.5);
            ro = re * sf / Math.pow(ro, sn);

            let ra = Math.tan(Math.PI * 0.25 + lat * DEGRAD * 0.5);
            ra = re * sf / Math.pow(ra, sn);
            let theta = lon * DEGRAD - olon;
            if (theta > Math.PI) theta -= 2.0 * Math.PI;
            if (theta < -Math.PI) theta += 2.0 * Math.PI;
            theta *= sn;

            const x = Math.floor(ra * Math.sin(theta) + XO + 0.5);
            const y = Math.floor(ro - ra * Math.cos(theta) + YO + 0.5);

            return { x, y };
        }

        // ì§€ì—­ëª…ìœ¼ë¡œ ëŒ€ê¸°ì§ˆ ì¸¡ì •ì†Œ ì´ë¦„ ë§¤í•‘
        function getAirQualityStation(locationName) {
            const stationMap = {
                'ì„œìš¸íŠ¹ë³„ì‹œ': 'ì¢…ë¡œêµ¬',
                'ë¶€ì‚°ê´‘ì—­ì‹œ': 'ë¶€ì‚°',
                'ëŒ€êµ¬ê´‘ì—­ì‹œ': 'ëŒ€êµ¬',
                'ì¸ì²œê´‘ì—­ì‹œ': 'ì¸ì²œ',
                'ê´‘ì£¼ê´‘ì—­ì‹œ': 'ê´‘ì£¼',
                'ëŒ€ì „ê´‘ì—­ì‹œ': 'ëŒ€ì „',
                'ìš¸ì‚°ê´‘ì—­ì‹œ': 'ìš¸ì‚°',
                'ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ': 'ì„¸ì¢…',
                'ê²½ê¸°ë„': 'ìˆ˜ì›',
                'ê°•ì›ë„': 'ì¶˜ì²œ',
                'ì¶©ì²­ë¶ë„': 'ì²­ì£¼',
                'ì¶©ì²­ë‚¨ë„': 'ì²œì•ˆ',
                'ì „ë¼ë¶ë„': 'ì „ì£¼',
                'ì „ë¼ë‚¨ë„': 'ê´‘ì£¼',
                'ê²½ìƒë¶ë„': 'ëŒ€êµ¬',
                'ê²½ìƒë‚¨ë„': 'ì°½ì›',
                'ì œì£¼íŠ¹ë³„ìì¹˜ë„': 'ì œì£¼'
            };
            return stationMap[locationName] || 'ì¢…ë¡œêµ¬';
        }

        // ëª¨ì˜ ë°ì´í„° ìƒì„± í•¨ìˆ˜ë“¤ (API ì—°ê²° ì „ í…ŒìŠ¤íŠ¸ìš©)
        function generateWeatherData() {
            const temp = Math.round(Math.random() * 25 + 5);
            const humidity = Math.round(Math.random() * 40 + 40);
            const precipitation = Math.round(Math.random() * 30);
            const conditions = ['ë§‘ìŒ', 'êµ¬ë¦„ì¡°ê¸ˆ', 'êµ¬ë¦„ë§ìŒ', 'íë¦¼', 'ë¹„', 'ëˆˆ'];
            
            return {
                temperature: temp,
                humidity: humidity,
                precipitation: precipitation,
                skyCondition: conditions[Math.floor(Math.random() * conditions.length)],
                windSpeed: (Math.random() * 12 + 1).toFixed(1),
                windDirection: ['ë¶', 'ë¶ë™', 'ë™', 'ë‚¨ë™', 'ë‚¨', 'ë‚¨ì„œ', 'ì„œ', 'ë¶ì„œ'][Math.floor(Math.random() * 8)],
                windGust: (Math.random() * 18 + 3).toFixed(1),
                pressure: Math.round(Math.random() * 30 + 1000)
            };
        }

        function generateAirQualityData() {
            return {
                pm25: Math.round(Math.random() * 80 + 5),
                pm10: Math.round(Math.random() * 120 + 10),
                ozone: (Math.random() * 0.1 + 0.02).toFixed(3),
                airIndex: Math.round(Math.random() * 150 + 50),
                grade: ['ì¢‹ìŒ', 'ë³´í†µ', 'ë‚˜ì¨', 'ë§¤ìš°ë‚˜ì¨'][Math.floor(Math.random() * 4)]
            };
        }

        function generateMagneticData() {
            const kp = (Math.random() * 6).toFixed(1);
            const activities = ['ì¡°ìš©', 'ì•ˆì •', 'ì•½ê°„ë¶ˆì•ˆì •', 'ë¶ˆì•ˆì •', 'í°í­ë°œ'];
            
            return {
                kpIndex: kp,
                activity: activities[Math.floor(Math.random() * activities.length)],
                ionosphere: ['ì •ìƒ', 'ì•½ê°„ë¶ˆì•ˆì •', 'ë¶ˆì•ˆì •'][Math.floor(Math.random() * 3)],
                gpsQuality: ['ìš°ìˆ˜', 'ì–‘í˜¸', 'ë³´í†µ', 'ë‚˜ì¨'][Math.floor(Math.random() * 4)]
            };
        }

        // ë°ì´í„° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤
        function updateWeatherDisplay(data) {
            document.getElementById('temperature').textContent = data.temperature + 'Â°C';
            document.getElementById('humidity').textContent = data.humidity + '%';
            document.getElementById('precipitation').textContent = data.precipitation + '%';
            document.getElementById('sky-condition').textContent = data.skyCondition;
            document.getElementById('wind-speed').textContent = data.windSpeed + ' m/s';
            document.
